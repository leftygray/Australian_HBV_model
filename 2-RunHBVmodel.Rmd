# Run HBV model 
# =============

Authors: Richard T. Gray, Neil Bretana

This script is used to create a project and run in the HBV model. 

```{r Initialize script}
# Clear workspace
rm(list = ls()) 

# Setup directories after setting working directory to source file 
# directory (so it is easy to move code around)
basePath <- getwd()
dataPath <- file.path(basePath, "data") # original data stored in ./BM datasets
Rcode <- file.path(basePath, "code")
projectFolder <- file.path(basePath, "projects")

# Load useful libraries
source(file.path(Rcode, "LoadLibrary.R"))
LoadLibrary("dplyr")
LoadLibrary("tidyr")

# Source model files
source(file.path(Rcode, "HBVmodel.R"))

```

```{r User specifications}
# Specify project to run
project <- "Australia_HBV_model"

# Options
runSamples <- FALSE

```

```{r Load project}
# This loads pg, inputs, best_estimates, param_sets to
# the workspace.
load(file.path(projectFolder, project, paste0(project, ".rda")))

```

```{r Run model}

# Run model on best estimates
bestResults <- HBVmodel(pg, bestEstimates, initialPop)

# Run sampled parameter sets
if (runSamples) {
  
  
}


```
