pm <- timeVary
rm(list = ls())
basePath <- getwd()
dataPath <- file.path(basePath, "data") # original data stored in ./BM datasets
Rcode <- file.path(basePath, "code")
source(file.path(Rcode, "LoadLibrary.R"))
LoadLibrary("readr")
LoadLibrary("dplyr")
LoadLibrary("tidyr")
# Output file names
paramFile1 <- "parameters_constant.csv"
paramFile2 <- "parameters_time_varying.csv"
# Source model files
source(file.path(Rcode, "HBVmodel.R"))
```
```{r test project}
pg <- data.frame(dt = double(1))
pg$dt <- 1 # Will need to change this for full run of model to 0.1 or 1/12 etc
pg <- data.frame(dt = double(1))
constants <- read_csv(file.path(dataPath, paramFile1))
timeVary <- read_csv(file.path(dataPath, paramFile2))
pm <- timeVary
nrow(timeVary)
# Add constants to pm by making them time varying
constantsSpread <- constants %>%
spread(parameter, value)
test <- rep(as.matrix(constantsSpread[1, ]), 100, each = nrow(constants))
test
constantsSpread
constants
timeVary
pm
constantsSpread
constants
constantsSpread
names(timeVary)
names(pm)
names(constants)
constants
constantsSpread
test
names(test)
colnames(test)
tes[1,]
test[1,]
test[1]
test[,1]
test[1]
constants[1,]
names(constants)
names(constantsSpread)
constantsSpread[1,]
nrow(constantsSpread)
constantsSpread
nrow(constants)
test <- rep(as.matrix(constantsSpread[1, ]), 100, each = nrow(pm))
nrow(test)
test
constantsSpread
constantsSpread[1,]
test <- rep(as.matrix(constantsSpread[1, ]), nrow(pm))
test
test <- rep(as.matrix(constantsSpread[1, ]), nrow(pm))
test
test <- rep(constantsSpread, nrow(pm))
test
test <- rep(constantsSpread[1,], nrow(pm))
test <- rep(constantsSpread[1,], nrow=nrow(pm))
test
test <- matrix(rep(constantsSpread[1,], nrow=nrow(pm)))
test
test <- rep(seq_len(nrow(test)), each=5)
test <- rep(seq_len(nrow(constantsSpread)), each=5)
test <- rep(seq_len(nrow(constantsSpread)), each=5)
test <- rep(seq_len(nrow(constantsSpread)), each=5)
constantsSpread <- constants %>%
spread(parameter, value)
constantsSpread <- constants %>%
spread(parameter, value)
spread(parameter, value)
constantsSpread <- constants %>%
spread(parameter, value)
constantsSpread
test <- rep(nrow(constantsSpread), each=5)
test
test <- rep(constantsSpread[1,], each=5)
test
as.data.frame(constantsSpread)
timeVary
typeof(timeVary)
test <- rep(as.data.frame(constantsSpread[1,]), each=5)
test
timeVary
names(timeVary)
timeVary$year
constantsSpread$ac_mort_rate0
timeVary[1,]
timeVary[1,]+constantsSpread[1,]
c(timeVary[1,]+constantsSpread[1,])
c(timeVary[1,],constantsSpread[1,])
c(timeVary[1,],constantsSpread)
c(timeVary,constantsSpread)
cbind(timeVary[1,],constantsSpread[1,])
test <- cbind(timeVary[1,],constantsSpread[1,])
test
names(timeVary)
test
test <- cbind(timeVary,constantsSpread[1,])
test
test[1,]
test[,1]
test[,2]
nrow(test)
nrow(testVary)
nrow(timeVary)
test[,2]
timeVary[,2]
test$bgmort0to4
test[5,]
